# Python语言基础

## 1.1 基本命令

### 1.1.1 基本运算

+ \+ - \* / //(整数商) %(mod) **(幂)

### 1.1.2 赋值语句

+ 同步赋值语句``` <a>,<b>,<c> = <A>,<B>,<C>``` 赋值时首先运算右侧N个表达式，将结果赋给左侧N个变量，如变量的互换
  
  ```python
  ##Ex1
  
  t=x x=y y=t
  
  ##Ex2
  
  x,y = y,x
  ```

### 1.1.3 条件与循环

+ 条件语句
  
  ```python
  #Python使用对齐缩进作为语句的层次标记，同一层次的缩进量要一一对应
  if T1 :
     A1
  elif T2 :
     A2
  else T3 :
     A3
  ```

+ 循环语句
  
  ```python
  #while循环
  s,k = 0
  while k < 101:
    k = k + 1
    s = s + k
  print s
  ```
  
  ```python
  #for循环
  s = 0
  for k in range(101):
    s = s + k
  print s
  ```
 
 +  Python提供```break```和```continue```循环保留字来控制循环的进行
 ```break```用来跳出最内层```for```及```while```循环，每个     ```break```语句只有跳出当前循环的能力，脱离循环从循环代码后继续执行；```continue```语句用来结束当次循环，但不跳出当前循环
 ``` python
#break语句
for s in "PYTHON":
      if s=="T":
        break
      print(s,end="")
  
#continue语句
for s in "PYTHON":
      if s=="T":
        continue
      print(s,end="")          
 ```
### 1.1.4 推导式与穷举
+ 推导式：``list``、``dice``和``set``等容器提供推导式型紧凑语法，可以通过迭代从已有容器创建新的容器
  ```python
  nums={1,2,3,5,33,0}
  multiplier_of_3=[n for n in nums if n % 3==0] #创建元素为集合num中3的倍数的值的列表
  square_of_odds={n*n for n in nums if n % 2 ==1} #创建元素为集合num中奇数的平方的集合

  s=[25,30,66,34,23]
  sr={n:n%2 for n in set(s)} #创建元素为列表s转化的集合中的元素与其与2的余数组成的键值对的字典
  tr={n:r for (n,r) in sr.items() if r==0} #创建元素为sr中值为0的键值对组成的字典
  ```
 + 穷举：穷举 (Exhaustive Search) 一种解决问题的基本方法。穷举法的基本思想是：当问题的解属于一个规模较小的有限集合时，可以通过逐一列举和检查集合中的所有
元素找到解
### 1.1.5 函数简介

+ Python使用def自定义函数
  
  ```python
  def add2(x): #定义函数及参数
    return x+2
  print add2(1)
  ```

+ Python的函数返回值可以是各种形式，如列表、多个值等
  
  ```python
  def add2(x=0,y=0):
    return [x+2,y+2] #返回列表
  
  def add3(x,y):
    return x+3,y+3 #双重返回
  ```

+ Python支持用lambda对简单的功能定义“行内函数”
  
  ```python
  f = lambda x : x + 2 #f(x)=x+2
  g = lambda x,y: x + y #g(x,y)=x+y
  ```

## 1.2 数据结构

### 1.2.1 基本数字类型

+ Python数字有整形、浮点型和复数型等

+ Python数字类型之间可以相互转换
  
  | 函数               | 描述                                        |
  |:----------------:|:-----------------------------------------:|
  | int(x)           | 将x转换为整数，x可以是浮点数或字符串                       |
  | float(x)         | 将x转换为浮点数，x可以是浮点数或字符串                      |
  | complex(re[,im]) | 生成一个复数，实部为re(可以是整数、浮点数、字符串)，虚部为im(不能是字符串) |

+ Python有内置的数字处理函数
  
  | 函数                 | 描述                   |
  |:------------------:|:--------------------:|
  | abs(x)             | x的绝对值                |
  | divmod(x,y)        | （x//y,x%y)，输出为元组类型   |
  | pow(x,y[,z])       | （x**y）%z，[..]表示参数可省略 |
  | round(x[,ndigits]) | 对x四舍五入，保留ndigits位小数  |
  | max($x_1,x_2,...$) | 求最大值                 |
  | min($x_1,x_2,...$) | 求最小值                 |

### 1.2.2 字符串

- 字符串在Python中用""或''隔开，若字符串内包含换行符```\n```,则使用```""""""```

- 字符串包括两种序列

- Python字符串可区间访问，采用[N:M]格式，表示从N到M(不包括)的字符串

- 使用双引号(单引号)时单引号(双引号)可以作为字符串的一部分，三引号中可以使用单引号、双引号、换行

- ```input()```函数将用户输入内容当作字符串类型，```print()```函数直接打印字符串 

- Python提供了5个字符串操作符
  
  | 操作符      | 描述                       |
  |:--------:|:------------------------:|
  | x+y      | 连接字符串x和y                 |
  | x*n或n\*x | 复制n次x                    |
  | x in s   | 如果x是s的字串返回True，否则返回False |
  | str[i]   | 索引，返回第i个字符               |
  | str[N:M] | 返回第N到M字串(不包括M)           |

- Python提供了内置的字符串处理函数
  
  | 函数     | 描述                   |
  |:------:|:--------------------:|
  | len(x) | 返回x的长度               |
  | str(x) | 返回任意类型x对应的字符串形式      |
  | chr(x) | 返回Unicode编码x对应的单字符   |
  | ord(x) | 返回单字符表示的Unicode编码    |
  | hex(x) | 返回整数x对应十六进制数的小写形式字符串 |
  | oct(x) | 返回整数x对应八进制数的小写形式字符串  |

- Python提供了内置的字符串处理方法
  
  | 方法            | 描述                       |
  |:-------------:|:------------------------:|
  | str.lower()   | 返回字符串str的全部字母小写的副本       |
  | str.upper()   | 返回字符串str的全部字母大写的副本       |
  | str.islower() | 当所有字母为小写时返回TRUE，否则为FALSE |
  
  其余非常用方法见下图
  
  ![输入图片说明](https://img2.imgtp.com/2024/03/12/4D6WvGYk.png)

- 字符串的format()方法格式化处理
  
  - 基本格式:```<模板字符串>.format(<逗号分隔的参数>)```
  
  - 模板字符串由一系列槽组成，用来控制修改字符串中嵌入值出现的位置，其基本思想是将format()方法中逗号分隔的参数按照序号关系替换到模板字符串的槽中。槽用大括号表示，如果大括号中没有序号，则按照出现顺序替换;如果大括号中指定了使用参数的序号，按照序号对应参数替换。
  ![输入图片说明](https://img2.imgtp.com/2024/03/12/QVXuURVD.png)
    
  - format()的槽还可以包含格式控制信息，即```{<参数序号>:<格式控制标记>}```
   
   ![输入图片说明](https://img2.imgtp.com/2024/03/12/XdbGlblV.png)
    ```<宽度>```指当前槽的设定输出字符宽度，如果该槽对应的 format()参数长度比<宽度>设定值大，则使用参数实际长度;如果该值的实际位数小于指定宽度，则位数将被默认以空格字符补充；
    
    ```<对齐>```分别用```<^>```表示左对齐、居中对齐、右对齐；
    ```<填充>```指宽度内除了字符其他的填充内容；
    ```<.精度>```对于浮点数表示小数的输出位数，对于字符串表示输出的最大长度；
    ```<类型>```表示输出浮点数和整数的规则

```python
a = 'abcde'
b = '12345'

print(a[1]) #输出b
c = a*3 
print(c[6:8],len(c)) #输出bc,15

"{}{}{}".format("圆周率","是",3.1415926) #格式化输出

#参数控制信息
s="PYTHON"
"{0:10}".format(s) #默认左对齐，宽度为30，输出'PYTHON    '
"{0:>10}".format(s) #右对齐，宽度为10，输出'    PYTHON'
"{0:*^10}".format(s) #居中对齐，宽度为10，用*填充，输出'**PYTHON**'
"{0:-^10,}".format(1234.56) #居中对齐，宽度为20，用-填充，带分隔符，输出'-1,234.56-'
"{0:.2f}".format(123.4567) #输出'123.46'，注意四舍五入
"{0:b},{0:c},{0:d},{0:o},{0:x},{0:X}".format(125) #输出'1111101,},125,175,7d,7D'
"{0:e},{0:E},{0:f},{0:%},{0:.2e},{0:.2E},{0:.2f},{0:.2%}".format(3.14) #输出'3.140000e+00,3.140000E+00,3.140000,314.000000%,3.14e+00,3.14E+00,3.14,314.00%'
```

### 1.2.3 列表及元组

+ 列表用```[]```标记，元组用```()```标记，二者的访问方式相同，内部数据类型不限

+ 列表可以被修改，元组则不可修改

+ 创建列表/元组时需要注意加```[]/()```

+ 复制列表的方式为```b=a[:]```,而不是```b=a```

+ ```list()```函数将对象转换为列表，```tuple()```函数将对象转换为元组
 
+ 列表解析可以简化对列表内元素逐一进行操作的代码

+ 常见与列表/元组相关的函数
  
  | 函数       | 功能          | 函数        | 功能    |
  |:--------:|:-----------:|:---------:|:-----:|
  | cmp(a,b) | 比较列表/元组内的元素 | min(a)    | 返回最小值 |
  | len(a)   | 元素个数        | sum(a)    | 求和    |
  | max(a)   | 返回最大值       | sorted(a) | 升序排序  |

+ 常见对列表的处理方法
  
  | 函数              | 功能                   |
  |:---------------:|:--------------------:|
  | a.append(1)     | 将1添加到列表a末尾           |
  | a.account(1)    | 统计列表a中元素1出现的次数       |
  | a.extend([1,2]) | 将列表[1,2]的内容追加到列表a的末尾 |
  | a.index(1)      | 从列表a中找出第一个1的索引位置     |
  | a.insert(2,1)   | 将1插入列表中索引为2的位置       |
  | a.pop(1)        | 移除列表a中索引为1的元素        |

```python
a = [1,2,3]
b = (4,5,6)
c = [1,'abc',[1,2]]

print(a[1],b[2],c[2][1]) #输出结果为2，6，2

a[1] = 3

print(a[1],b[2],c[2][1]) #输出结果为3，6，2
```

### 1.2.4 集合

+ 集合(set)是包含0个或多个数据的无序组合，集合中的元素类型只能是固定数据类型(非列表、字典、集合)且不可重复

+ 集合用``{}``表示，是无序组合，没有索引和位置的概念，不能分片，集合中的元素可以动态增加或删除

+ ```set(x)```也可用来生成集合，输入的参数可以是任何组合的数据类型，返回一个无重复且任意排序的集合

+ 集合类型常见的操作符如下图
![输入图片说明](https://img2.imgtp.com/2024/03/12/fjkYUU9I.png)

+ 集合类型常见的处理函数如下图
![输入图片说明](https://img2.imgtp.com/2024/03/12/KCrRY0uB.png)

+ 集合的应用主要在成员关系测试、元素去重和删除数据项，由于其具有元素不重复特性，故需要对一维数据去重或进行数据重复处理时一般使用集合

```python
#集合的生成与动态变化
s={1,2,(1,2,3),'abc'}
print(s，type(s)) #输出{1, 2, (1, 2, 3), 'abc'} <class 'set'>
#由于集合是无序的，故其打印效果可能与定义有不同

set("12345") #输出{'3', '1', '5', '2', '4'}

#集合的操作与函数处理
s={1,2,3,4,"abcd",'a'}
t={1,3,5,7,"bd",'c'}
s-t #输出{'abcd', 'a', 2, 4}
t-s #输出{'bd', 'c', 5, 7}
s&t #输出{1, 3}
s^t #输出{2, 'c', 4, 5, 7, 'bd', 'a', 'abcd'}
s|t #输出{1, 2, 3, 4, 'c', 5, 7, 'bd', 'a', 'abcd'}
s<=t #输出False
t<=s #输出False
s.add(5)
s #输出{'abcd', 1, 2, 3, 4, 5, 'a'}
s.copy() #输出{'abcd', 1, 2, 3, 4, 5, 'a'}
s.pop() #输出'abcd'(结果不唯一)
s.discard(5)
s #输出{1, 2, 3, 4, 'a'}
len(s) #输出5
5 in s #输出False

#集合的应用
tup=("python","123",123,"abc",123)
set(tup) #去重，输出{'abc', 123, '123', 'python'}
newtup=tuple(set(tup)-{"python"}) #去重同时删除数据项，输出(123, 'abc', '123')
```
### 1.2.5字典

 + 字典(dict)的基础是键值对关系，在程序语言中，根据一个信息查找到了另一个信息的方式构成了键值对，表示索引用的键和对应的值构成的成对的关系
 
 + 字典是python语言中实现映射(通过任意键信息查找任意值信息)的方法，可以通过``{}``建立(字典可视作集合的延伸，同样没有顺序也不能重复)，建立模式为```{<键1>:<值1>,<键2>:<值2>,...,<键n>:<值n>}```
 
 + 字典的建立直接使用``{}``，而集合的建立需使用函数``set()``
 
 + 字典中键值对的访问模式采用``[]``模式：```<值>=<字典变量>[<键>]```
 
 + 字典中键值的修改采用``[]``访问和赋值的方式实现
 
 + 字典在python中同样可以进行面向对象处理，对应方法采用```<a>.<b>()```格式
![输入图片说明](https://img2.imgtp.com/2024/03/12/D22UUfxI.png)
 
 + 字典可以通过for-in语句对其元素进行遍历
```python
for <变量名> in <字典名>:
    <语句块>
```

```python
#建立字典
DC={"a1":1,"b1":2,"c1":"3"}
print(DC) #输出{'a1': 1, 'b1': 2, 'c1': '3'}，顺序可能不同

#键值对访问
DC['a1'] #输出1

#字典的修改
DC['a1']='a'
DC #输出{'a1': 'a', 'b1': 2, 'c1': '3'}

#字典函数处理
DC.keys() #输出dict_keys(['a1', 'b1', 'c1'])
DC.values() #输出dict_values(['a', 2, '3'])
DC.items() #输出dict_items([('a1', 'a'), ('b1', 2), ('c1', '3')])
DC.get('a1') #输出'a'
DC.popitem() #输出('c1', '3')

#字典遍历处理
for key in DC:
   print(key)
#输出a1 \n b1 \n c1
```

## 1.3函数式编程
### 1.3.1 函数简介
+ 函数是一段具有特定功能的、可重用的语句组，用函数名表示及调用，包括自定义函数和库函数
+ Python使用``def``保留字自定义函数，
```python
def <函数名>(<参数列表>):
	<函数体>
	return <返回值列表>
```
+ 函数名可以是任何有效的Python标识符；参数列表是调用该函数时传递的值，可以有一个或多个，括号内的参数为“形参”(形式参数，可以不和调用时的参数名相等)；需要返回值时使用``return``和返回值列表
+ Python支持用``lambda``对简单的功能定义“行内函数”
```python
f = lambda x : x + 2 #f(x)=x+2
g = lambda x,y: x + y #g(x,y)=x+y
```

### 1.3.2 函数调用与参数传递
+ 函数的调用过程可分为如下步骤
   + 程序在调用处暂停执行
   + 在调用时将实参复制到函数的形参
   + 执行函数语句
   + 调用结束给出返回值，程序继续执行
```python
#函数调用示例
def put(a):

	b = "{} is a wonderful subiect!".format(a)

	return b

name = ["A", "B", "C"]

for i in name:

	print(put(i))
```  
+ 可选参数：在定义函数时如果有些参数存在默认值，则可在定义时直接将这些参数指定默认值，当函数被调用时如果没有传入对应的参数则直接使用默认值代替；由于函数调用时需按顺序输入参数，可选参数必须定义在非可选参数后面
+ 可变数量参数：在函数定义时可通过在变量名前加``*``定义可变数量参数，调用时这些变量被当作元组传递，可变数量参数必须定义在参数列表最后
+ 参数的位置传递与名称传递：函数调用时实参默认按照位置顺序传入函数，为位置传递；同时在调用函数时可以指定参数名称进行传递，为名称传递
+ Python的函数返回值可以是各种形式，如列表、多个值等，同时函数也可以没有返回值

```python
#可选参数
def dup(str,times=2):
	print(str*times)
dup("a") #输出aa
dup("a",4) #输出aaaa

#可变数量参数
def fun(a,*b):
	for i in b:
		a += b
	return a
fun(1,2,3,4) #输出15

#参数的位置传递
a=fun(1,2,3,4)

#参数名称传递
a=fun(b=2,a=3)

#多值返回
def add2(x=0,y=0):
  return [x+2,y+2] #返回列表
  
def add3(x,y):
  return x+3,y+3 #双重返回
```

### 1.3.3 函数与变量
+ 一般程序中包含两种变量：全局变量与局部变量，全局变量指在函数外定义的变量，一般没有缩进，在程序执行时全程有效；局部变量指在函数内部使用的变量，仅在函数内部有效
+ 在函数内部使用变量有如下情形
  + 在函数内部处理局部变量，函数执行结束后变量将被释放；
  + 在函数内部处理与全局变量同名的整型、浮点型等简单数据类型的“全局变量”并改变其值，全局变量值并不发生变化，是因为函数在自己的内存空间中会新建一个变量，在函数中处理的该变量仍为局部变量，故不改变对应的值。如果想处理对应的局部变量，需在函数中使用``global xxx``显式声明；
  + 在函数内部处理列表等组合数据类型全局变量并改变其值，调用后全局变量会发生变化，因为列表类型变量的创建和调用语言不一样，对此类变量进行改变时只能调用已存在的变量，而不会创建一个新变量。如果函数内部也创建了该类型的同名的变量，则函数仍处理局部变量
```python
n=1
s=[]

def func_1(a,b):
	n=a+b
	return n
func_1(1,2)
print(n) #输出1 函数仅处理局部变量

def func_2(a,b):
	global n #声明为全局变量
	n=a+b
	return n
func_2(1,2)
print(n) #输出3

def func_3(a)
	s.append(a)
a="str"
print(s) #输出str
```

### 1.3.4  函数作为实参及返回值
#### -函数作为实参
+ 在程序语言中函数也可以作为实参进行调用，用法与普通实参类似
  

<!--stackedit_data:
eyJoaXN0b3J5IjpbMTkxMzUzNjU2MSwtMzMwMzA5NDg4LC0zNj
c0Njk3OTMsNzI4NjIyMzc2LDM4OTMyMjk2NCwtMTYzOTE1MDA2
MCwzNTAwODM3MTcsLTE0ODk2NTY3MDYsLTE2Njc3MjA2OTIsLT
E1MzM1NzE2MjUsMjA4ODE1NTcwOCwtMTM1MTA2OTMyLDE1MTI4
NTkwNDYsLTIwMzk1NDcxMjIsLTM0NDY3ODM0NSw4MzI3MDcxMS
wxNjU4NTczNjgyLC01ODgwNTI3NDMsMTc2MTc0MDYxMywtMjAz
OTAzNDQ5OF19
-->